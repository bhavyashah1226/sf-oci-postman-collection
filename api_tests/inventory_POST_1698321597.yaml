# Test generated by RoostGPT for test demo1 using AI Type Azure Open AI and AI Model roost-gpt4-32k

config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  templates: {}
  override: {}
  variables:
    _import_availability_records_import_id: "{{ $processEnvironment._import_availability_records_import_id }}"
    _authorization_key: "{{ $processEnvironment._authorization_key }}"
    content_type: "application/json"
    method: "POST"
    api_url: "https://dummyapi.com"
    api_version: "v1"
    tenant_group_id: "abcdefgh"
    impex_file_format: "txt"
    impex_file_encoding: "UTF-8"
    impex_file_hash_type: "SHA-256"
    impex_file_hash: "1234567890abcdef"
    impex_file_name: "test_file"
    impex_link_duration: 10

scenarios:
  - name: "Successful API request"
    flow:
      - post:
          url: "/inventory/impex/{{api_version}}/organizations/{{tenant_group_id}}/availability-records/imports"
          headers:
            Content-Type: "{{ content_type }}"
            Authorization: "{{ _authorization_key }}"
          json:
            fileFormat: "{{ impex_file_format }}"
            fileEncoding: "{{ impex_file_encoding }}"
            fileHashType: "{{ impex_file_hash_type }}"
            fileHash: "{{ impex_file_hash }}"
            fileName: "{{ impex_file_name }}"
            linkDuration: "{{ impex_link_duration }}"
          expect:
            - statusCode: 200
            - hasProperty: "importId"
  - name: "API request with validation failure"
    flow:
      - post:
          url: "/random_invalid_path"
          headers:
            Content-Type: "{{ content_type }}"
            Authorization: "{{ _authorization_key }}"
          expect:
            - statusCode: 404
  - name: "API request with edge case"
    flow:
      - post:
          url: "/inventory/impex/{{api_version}}/organizations/{{tenant_group_id}}/availability-records/imports"
          headers:
            Content-Type: "{{ content_type }}"
            Authorization: "{{ _authorization_key }}"
          json:
            fileFormat: "{{ impex_file_format }}"
            fileEncoding: "{{ impex_file_encoding }}"
            fileHashType: "{{ impex_file_hash_type }}"
            fileHash: "{{ impex_file_hash }}"
            fileName: "@@@@@@@"
            linkDuration: 10000000000000000
          expect:
            - statusCode: 200
            - hasProperty: "importId"
